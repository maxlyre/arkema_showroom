(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[5538],{95423:(ae,M,e)=>{var t={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function p(i){if(!e.o(t,i))return Promise.resolve().then(()=>{var C=new Error("Cannot find module '"+i+"'");throw C.code="MODULE_NOT_FOUND",C});var O=t[i],b=O[0];return e.e(O[1]).then(()=>e.t(b,19))}p.keys=()=>Object.keys(t),p.id=95423,ae.exports=p},42243:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>Dt});var t=e(53209),p=e(68547),i=e(67294),O=e(97132),b=e(45697),C=e.n(b),F=e(5493),ee=e(9008),ie=e(62031),oe=e(67826),I=e(19408),Q=e(55967),U=e(49425),D=e(80831),R=e(36206),Z=e(79690);const z=({onSubmit:re,schema:lt})=>{const{formatMessage:ge}=(0,O.useIntl)();return i.createElement(R.ZP,null,i.createElement(ie.Main,null,i.createElement(R.bU,null,i.createElement(D.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:re,validationSchema:lt,validateOnChange:!1},({values:nt,errors:Qe,handleChange:xe})=>i.createElement(p.Form,{noValidate:!0},i.createElement(R.sg,null,i.createElement(Z.Z,null),i.createElement(F.Box,{paddingTop:6,paddingBottom:7},i.createElement(U.Typography,{as:"h1",variant:"alpha"},ge({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Qe.errorMessage&&i.createElement(U.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ge({id:Qe.errorMessage,defaultMessage:"An error occurred"}))),i.createElement(ee.Stack,{spacing:6},i.createElement(Q.TextInput,{error:Qe.email?ge({id:Qe.email,defaultMessage:"This email is invalid."}):"",value:nt.email,onChange:xe,label:ge({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:ge({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),i.createElement(I.Button,{type:"submit",fullWidth:!0},ge({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),i.createElement(oe.Flex,{justifyContent:"center"},i.createElement(F.Box,{paddingTop:4},i.createElement(p.Link,{to:"/auth/login"},ge({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};z.defaultProps={onSubmit:re=>re.preventDefault()},z.propTypes={onSubmit:C().func,schema:C().shape({type:C().string.isRequired}).isRequired};const J=z,T=()=>{const{formatMessage:re}=(0,O.useIntl)();return i.createElement(R.ZP,null,i.createElement(ie.Main,null,i.createElement(R.bU,null,i.createElement(R.sg,null,i.createElement(Z.Z,null),i.createElement(F.Box,{paddingTop:6,paddingBottom:7},i.createElement(U.Typography,{as:"h1",variant:"alpha"},re({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),i.createElement(U.Typography,null,re({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),i.createElement(F.Box,{paddingTop:4},i.createElement(U.Typography,null,re({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),i.createElement(oe.Flex,{justifyContent:"center"},i.createElement(F.Box,{paddingTop:4},i.createElement(p.Link,{to:"/auth/login"},re({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},se=()=>{const{formatMessage:re}=(0,O.useIntl)(),ge=(0,p.useQuery)().get("info")||re({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return i.createElement(R.ZP,null,i.createElement(ie.Main,null,i.createElement(R.bU,null,i.createElement(R.sg,null,i.createElement(Z.Z,null),i.createElement(F.Box,{paddingTop:6,paddingBottom:7},i.createElement(U.Typography,{as:"h1",variant:"alpha"},re({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),i.createElement(U.Typography,null,ge),i.createElement(F.Box,{paddingTop:4},i.createElement(U.Typography,null,re({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),i.createElement(oe.Flex,{justifyContent:"center"},i.createElement(F.Box,{paddingTop:4},i.createElement(p.Link,{to:"/auth/login"},re({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var Fe=e(78384),ve=e(27361),Ze=e.n(ve),l=e(57557),mt=e.n(l),ke=e(49656),it=e(9669),Ee=e.n(it),ye=e(81325),me=e(34626),Pe=e(48765),te=e.n(Pe),ue=e(28649),B=e.n(ue),j=e(68070),x=(re,lt,ge)=>new Promise((nt,Qe)=>{var xe=Ce=>{try{rt(ge.next(Ce))}catch(Je){Qe(Je)}},We=Ce=>{try{rt(ge.throw(Ce))}catch(Je){Qe(Je)}},rt=Ce=>Ce.done?nt(Ce.value):Promise.resolve(Ce.value).then(xe,We);rt((ge=ge.apply(re,lt)).next())});const je=(0,Fe.default)(F.Box)`
  text-align: center;
`,ce=Fe.default.a`
  color: ${({theme:re})=>re.colors.primary600};
`,pe=(0,Fe.default)(Q.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,be=({authType:re,fieldsToDisable:lt,noSignin:ge,onSubmit:nt,schema:Qe})=>{const xe=(0,p.useNotification)(),{push:We}=(0,ke.useHistory)(),[rt,Ce]=(0,i.useState)(!1),[Je,ft]=(0,i.useState)(!1),[gt,It]=(0,i.useState)(0),[_t,Ft]=(0,i.useState)({}),{trackUsage:Nt}=(0,p.useTracking)(),{formatMessage:Ae}=(0,O.useIntl)(),Be=(0,p.useQuery)().get("registrationToken");return(0,i.useEffect)(()=>{Be&&x(void 0,null,function*(){try{const{data:{data:Ie}}=yield Ee().get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Be}`);Ie&&Ft(Ie)}catch(Ie){const Xe=Ze()(Ie,["response","data","message"],"An error occurred");xe({type:"warning",message:Xe}),We(`/auth/oops?info=${encodeURIComponent(Xe)}`)}})},[Be]),i.createElement(R.ZP,null,i.createElement(R.bU,null,i.createElement(D.Formik,{enableReinitialize:!0,initialValues:{firstname:_t.firstname||"",lastname:_t.lastname||"",email:_t.email||"",password:"",confirmPassword:"",registrationToken:Be||void 0,news:!1},onSubmit:(Ve,Ie)=>x(void 0,null,function*(){try{yield Qe.validate(Ve,{abortEarly:!1}),gt>0&&re==="register-admin"&&Nt("didSubmitWithErrorsFirstAdmin",{count:gt.toString()}),nt(Be?{userInfo:mt()(Ve,["registrationToken"]),registrationToken:Be}:Ve,Ie)}catch(Xe){const ht=(0,p.getYupInnerErrors)(Xe);It(gt+1),Ie.setErrors(ht)}}),validateOnChange:!1},({values:Ve,errors:Ie,handleChange:Xe})=>i.createElement(p.Form,{noValidate:!0},i.createElement(ie.Main,null,i.createElement(R.sg,null,i.createElement(Z.Z,null),i.createElement(F.Box,{paddingTop:6,paddingBottom:1},i.createElement(U.Typography,{as:"h1",variant:"alpha"},Ae({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),i.createElement(je,{paddingBottom:7},i.createElement(U.Typography,{variant:"epsilon",textColor:"neutral600"},Ae({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),i.createElement(ee.Stack,{spacing:6},i.createElement(me.Grid,{gap:4},i.createElement(me.GridItem,{col:6},i.createElement(Q.TextInput,{name:"firstname",required:!0,value:Ve.firstname,error:Ie.firstname?Ae(Ie.firstname):void 0,onChange:Xe,label:Ae({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),i.createElement(me.GridItem,{col:6},i.createElement(Q.TextInput,{name:"lastname",value:Ve.lastname,onChange:Xe,label:Ae({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),i.createElement(Q.TextInput,{name:"email",disabled:lt.includes("email"),value:Ve.email,onChange:Xe,error:Ie.email?Ae(Ie.email):void 0,required:!0,label:Ae({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),i.createElement(pe,{name:"password",onChange:Xe,value:Ve.password,error:Ie.password?Ae(Ie.password):void 0,endAction:i.createElement(j.Z,{onClick:ht=>{ht.preventDefault(),Ce(ot=>!ot)},label:Ae(rt?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},rt?i.createElement(B(),null):i.createElement(te(),null)),hint:Ae({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:Ae({id:"global.password",defaultMessage:"Password"}),type:rt?"text":"password"}),i.createElement(pe,{name:"confirmPassword",onChange:Xe,value:Ve.confirmPassword,error:Ie.confirmPassword?Ae(Ie.confirmPassword):void 0,endAction:i.createElement(j.Z,{onClick:ht=>{ht.preventDefault(),ft(ot=>!ot)},label:Ae(Je?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Je?i.createElement(B(),null):i.createElement(te(),null)),required:!0,label:Ae({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirmation Password"}),type:Je?"text":"password"}),i.createElement(ye.Checkbox,{onValueChange:ht=>{Xe({target:{value:ht,name:"news"}})},value:Ve.news,name:"news","aria-label":"news"},Ae({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:i.createElement(ce,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},Ae({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:i.createElement(ce,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},Ae({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),i.createElement(I.Button,{fullWidth:!0,size:"L",type:"submit"},Ae({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!ge&&i.createElement(F.Box,{paddingTop:4},i.createElement(oe.Flex,{justifyContent:"center"},i.createElement(p.Link,{label:"Auth.link.signin",to:"/auth/login"},Ae({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};be.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:re=>re.preventDefault()},be.propTypes={authType:C().string.isRequired,fieldsToDisable:C().array,noSignin:C().bool,onSubmit:C().func,schema:C().shape({validate:C().func.isRequired,type:C().string.isRequired}).isRequired};const ne=be,fe=(0,Fe.default)(Q.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,Ne=({onSubmit:re,schema:lt})=>{const[ge,nt]=(0,i.useState)(!1),[Qe,xe]=(0,i.useState)(!1),{formatMessage:We}=(0,O.useIntl)();return i.createElement(R.ZP,null,i.createElement(ie.Main,null,i.createElement(R.bU,null,i.createElement(D.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:re,validationSchema:lt,validateOnChange:!1},({values:rt,errors:Ce,handleChange:Je})=>i.createElement(p.Form,{noValidate:!0},i.createElement(R.sg,null,i.createElement(Z.Z,null),i.createElement(F.Box,{paddingTop:6,paddingBottom:7},i.createElement(U.Typography,{as:"h1",variant:"alpha"},We({id:"global.reset-password",defaultMessage:"Reset password"}))),Ce.errorMessage&&i.createElement(U.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},We({id:Ce.errorMessage,defaultMessage:"An error occurred"}))),i.createElement(ee.Stack,{spacing:6},i.createElement(fe,{name:"password",onChange:Je,value:rt.password,error:Ce.password?We({id:Ce.password,defaultMessage:"This field is required."}):void 0,endAction:i.createElement(j.Z,{onClick:ft=>{ft.preventDefault(),nt(gt=>!gt)},label:We(ge?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ge?i.createElement(B(),null):i.createElement(te(),null)),hint:We({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:We({id:"global.password",defaultMessage:"Password"}),type:ge?"text":"password"}),i.createElement(fe,{name:"confirmPassword",onChange:Je,value:rt.confirmPassword,error:Ce.confirmPassword?We({id:Ce.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:i.createElement(j.Z,{onClick:ft=>{ft.preventDefault(),xe(gt=>!gt)},label:We(ge?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Qe?i.createElement(B(),null):i.createElement(te(),null)),required:!0,label:We({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirmation Password"}),type:Qe?"text":"password"}),i.createElement(I.Button,{fullwidth:!0,type:"submit"},We({id:"global.change-password",defaultMessage:"Change password"})))))),i.createElement(oe.Flex,{justifyContent:"center"},i.createElement(F.Box,{paddingTop:4},i.createElement(p.Link,{to:"/auth/login"},We({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Ne.defaultProps={onSubmit:re=>re.preventDefault()},Ne.propTypes={onSubmit:C().func,schema:C().shape({type:C().string.isRequired}).isRequired};const $e=Ne;var Wt=function(){return window&&window.strapi&&window.strapi.isEE?e(9442).Z:e(73347).Z}(),Mt={"forgot-password":{Component:J,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(p.translatedErrors.email).required(p.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:T,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:Wt,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(p.translatedErrors.email).required(p.translatedErrors.required),password:t.Z_().required(p.translatedErrors.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:se,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:ne,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().required(p.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,p.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(p.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(p.translatedErrors.required),registrationToken:t.Z_().required(p.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:ne,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().required(p.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,p.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(p.translatedErrors.required),email:t.Z_().email(p.translatedErrors.email).strict().lowercase(p.translatedErrors.lowercase).required(p.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(p.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:$e,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,p.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(p.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(p.translatedErrors.required)})}};const Dt=Mt},87751:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>C});var t=e(96486);const i={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.install",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],install:[{action:"admin::marketplace.plugins.install",subject:null}],read:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],uninstall:[{action:"admin::marketplace.plugins.uninstall",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.create",subject:null},{action:"admin::api-tokens.read",subject:null},{action:"admin::api-tokens.update",subject:null},{action:"admin::api-tokens.delete",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}]}}};var O=function(){return window&&window.strapi&&window.strapi.isEE?e(2199).Z:e(69623).Z}(),b=(0,t.merge)(i,O);const C=b},30017:(ae,M,e)=>{"use strict";e.r(M),e.d(M,{default:()=>Tr});var t=e(67294),p=e(49656),i=e(12871),O=e(82492),b=e.n(O),C=e(78718),F=e.n(C),ee=e(23560),ie=e.n(ee),oe=e(41143),I=e.n(oe),Q=e(15482),U=e(23998),D=e(35281);const Z=a=>(0,D.combineReducers)(a),J=(a,n)=>{const r=[];return a.forEach(m=>{r.push(m())}),(0,D.createStore)(Z(n),{},(0,D.applyMiddleware)(...r))};var le=e(50540),T=e(68547),k=e(9669),se=e.n(k),Fe=e(62031),ve=e(97132),Ze=e(45697),l=e.n(Ze),mt=Object.defineProperty,ke=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,ye=(a,n,r)=>n in a?mt(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,me=(a,n)=>{for(var r in n||(n={}))it.call(n,r)&&ye(a,r,n[r]);if(ke)for(var r of ke(n))Ee.call(n,r)&&ye(a,r,n[r]);return a},Pe=(a,n)=>{var r={};for(var m in a)it.call(a,m)&&n.indexOf(m)<0&&(r[m]=a[m]);if(a!=null&&ke)for(var m of ke(a))n.indexOf(m)<0&&Ee.call(a,m)&&(r[m]=a[m]);return r};const te=a=>{var n=a,{component:r,path:m}=n,g=Pe(n,["component","path"]);const{pathname:y,search:d}=(0,p.useLocation)();return t.createElement(p.Route,{path:m,render:c=>T.auth.getToken()!==null?t.createElement(r,me(me({},g),c)):t.createElement(p.Redirect,{to:{pathname:"/auth/login",search:y!=="/"&&`?redirectTo=${encodeURIComponent(`${y}${d}`)}`}})})};te.propTypes={component:l().any.isRequired,path:l().string.isRequired};const ue=(0,t.memo)(te);var B=e(8610),j=e(71002),x=e(87462),je=e(4942),ce=e(15861),pe=e(70885),be=e(44925),ne=e(68929),fe=e.n(ne),Ne=e(27361),$e=e.n(Ne),Wt=e(57557),Mt=e.n(Wt);const Dt="GUIDED_TOUR_CURRENT_STEP",re="GUIDED_TOUR_COMPLETED_STEPS",lt="GUIDED_TOUR_SKIPPED",ge=JSON.parse,nt=JSON.stringify,xe={clear(){localStorage.removeItem(Dt),localStorage.removeItem(re)},addCompletedStep:a=>{var n;const r=((n=ge(localStorage.getItem(re)))==null?void 0:n.slice())||[];r.includes(a)||(r.push(a),localStorage.setItem(re,nt(r)))},addCurrentStep:a=>{localStorage.setItem(Dt,nt(a))},setSkipped:a=>{localStorage.setItem(lt,nt(a))},get:a=>ge(localStorage.getItem(a))};var We=e(50592),rt=e(27858);const Je=a=>a;var ft=e(73749),gt=e(96486);const It={formErrors:{},modifiedData:{},requestError:null},_t=(a,n)=>(0,ft.default)(a,r=>{switch(n.type){case"ON_CHANGE":{(0,gt.set)(r.modifiedData,n.keys.split("."),n.value);break}case"RESET_PROPS":return It;case"SET_DATA":{r.modifiedData=n.data;break}case"SET_ERRORS":{r.formErrors=n.errors;break}case"SET_REQUEST_ERROR":{r.requestError={errorMessage:n.errorMessage,errorStatus:n.errorStatus};break}default:return r}});var Ft=e(25108),Nt=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function Ae(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);n&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(a,g).enumerable})),r.push.apply(r,m)}return r}function Kt(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ae(Object(r),!0).forEach(function(m){(0,je.Z)(a,m,r[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(r,m))})}return a}function Be(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Be=function(){return a};var a={},n=Object.prototype,r=n.hasOwnProperty,m=typeof Symbol=="function"?Symbol:{},g=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",d=m.toStringTag||"@@toStringTag";function c(P,f,_){return Object.defineProperty(P,f,{value:_,enumerable:!0,configurable:!0,writable:!0}),P[f]}try{c({},"")}catch(P){c=function(_,W,$){return _[W]=$}}function v(P,f,_,W){var $=f&&f.prototype instanceof X?f:X,q=Object.create($.prototype),he=new os(W||[]);return q._invoke=function(dt,ct,de){var Ke="suspendedStart";return function(pt,Cs){if(Ke==="executing")throw new Error("Generator is already running");if(Ke==="completed"){if(pt==="throw")throw Cs;return is()}for(de.method=pt,de.arg=Cs;;){var ls=de.delegate;if(ls){var et=kt(ls,de);if(et){if(et===V)continue;return et}}if(de.method==="next")de.sent=de._sent=de.arg;else if(de.method==="throw"){if(Ke==="suspendedStart")throw Ke="completed",de.arg;de.dispatchException(de.arg)}else de.method==="return"&&de.abrupt("return",de.arg);Ke="executing";var Re=E(dt,ct,de);if(Re.type==="normal"){if(Ke=de.done?"completed":"suspendedYield",Re.arg===V)continue;return{value:Re.arg,done:de.done}}Re.type==="throw"&&(Ke="completed",de.method="throw",de.arg=Re.arg)}}}(P,_,he),q}function E(P,f,_){try{return{type:"normal",arg:P.call(f,_)}}catch(W){return{type:"throw",arg:W}}}a.wrap=v;var V={};function X(){}function H(){}function Y(){}var w={};c(w,g,function(){return this});var Te=Object.getPrototypeOf,Oe=Te&&Te(Te(as([])));Oe&&Oe!==n&&r.call(Oe,g)&&(w=Oe);var Me=Y.prototype=X.prototype=Object.create(w);function At(P){["next","throw","return"].forEach(function(f){c(P,f,function(_){return this._invoke(f,_)})})}function Ut(P,f){function _($,q,he,dt){var ct=E(P[$],P,q);if(ct.type!=="throw"){var de=ct.arg,Ke=de.value;return Ke&&(0,j.Z)(Ke)=="object"&&r.call(Ke,"__await")?f.resolve(Ke.__await).then(function(pt){_("next",pt,he,dt)},function(pt){_("throw",pt,he,dt)}):f.resolve(Ke).then(function(pt){de.value=pt,he(de)},function(pt){return _("throw",pt,he,dt)})}dt(ct.arg)}var W;this._invoke=function($,q){function he(){return new f(function(dt,ct){_($,q,dt,ct)})}return W=W?W.then(he,he):he()}}function kt(P,f){var _=P.iterator[f.method];if(_===void 0){if(f.delegate=null,f.method==="throw"){if(P.iterator.return&&(f.method="return",f.arg=void 0,kt(P,f),f.method==="throw"))return V;f.method="throw",f.arg=new TypeError("The iterator does not provide a 'throw' method")}return V}var W=E(_,P.iterator,f.arg);if(W.type==="throw")return f.method="throw",f.arg=W.arg,f.delegate=null,V;var $=W.arg;return $?$.done?(f[P.resultName]=$.value,f.next=P.nextLoc,f.method!=="return"&&(f.method="next",f.arg=void 0),f.delegate=null,V):$:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,V)}function ln(P){var f={tryLoc:P[0]};1 in P&&(f.catchLoc=P[1]),2 in P&&(f.finallyLoc=P[2],f.afterLoc=P[3]),this.tryEntries.push(f)}function rs(P){var f=P.completion||{};f.type="normal",delete f.arg,P.completion=f}function os(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(ln,this),this.reset(!0)}function as(P){if(P){var f=P[g];if(f)return f.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var _=-1,W=function $(){for(;++_<P.length;)if(r.call(P,_))return $.value=P[_],$.done=!1,$;return $.value=void 0,$.done=!0,$};return W.next=W}}return{next:is}}function is(){return{value:void 0,done:!0}}return H.prototype=Y,c(Me,"constructor",Y),c(Y,"constructor",H),H.displayName=c(Y,d,"GeneratorFunction"),a.isGeneratorFunction=function(P){var f=typeof P=="function"&&P.constructor;return!!f&&(f===H||(f.displayName||f.name)==="GeneratorFunction")},a.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,Y):(P.__proto__=Y,c(P,d,"GeneratorFunction")),P.prototype=Object.create(Me),P},a.awrap=function(P){return{__await:P}},At(Ut.prototype),c(Ut.prototype,y,function(){return this}),a.AsyncIterator=Ut,a.async=function(P,f,_,W,$){$===void 0&&($=Promise);var q=new Ut(v(P,f,_,W),$);return a.isGeneratorFunction(f)?q:q.next().then(function(he){return he.done?he.value:q.next()})},At(Me),c(Me,d,"Generator"),c(Me,g,function(){return this}),c(Me,"toString",function(){return"[object Generator]"}),a.keys=function(P){var f=[];for(var _ in P)f.push(_);return f.reverse(),function W(){for(;f.length;){var $=f.pop();if($ in P)return W.value=$,W.done=!1,W}return W.done=!0,W}},a.values=as,os.prototype={constructor:os,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(rs),!f)for(var _ in this)_.charAt(0)==="t"&&r.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var _=this;function W(de,Ke){return he.type="throw",he.arg=f,_.next=de,Ke&&(_.method="next",_.arg=void 0),!!Ke}for(var $=this.tryEntries.length-1;$>=0;--$){var q=this.tryEntries[$],he=q.completion;if(q.tryLoc==="root")return W("end");if(q.tryLoc<=this.prev){var dt=r.call(q,"catchLoc"),ct=r.call(q,"finallyLoc");if(dt&&ct){if(this.prev<q.catchLoc)return W(q.catchLoc,!0);if(this.prev<q.finallyLoc)return W(q.finallyLoc)}else if(dt){if(this.prev<q.catchLoc)return W(q.catchLoc,!0)}else{if(!ct)throw new Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return W(q.finallyLoc)}}}},abrupt:function(f,_){for(var W=this.tryEntries.length-1;W>=0;--W){var $=this.tryEntries[W];if($.tryLoc<=this.prev&&r.call($,"finallyLoc")&&this.prev<$.finallyLoc){var q=$;break}}q&&(f==="break"||f==="continue")&&q.tryLoc<=_&&_<=q.finallyLoc&&(q=null);var he=q?q.completion:{};return he.type=f,he.arg=_,q?(this.method="next",this.next=q.finallyLoc,V):this.complete(he)},complete:function(f,_){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&_&&(this.next=_),V},finish:function(f){for(var _=this.tryEntries.length-1;_>=0;--_){var W=this.tryEntries[_];if(W.finallyLoc===f)return this.complete(W.completion,W.afterLoc),rs(W),V}},catch:function(f){for(var _=this.tryEntries.length-1;_>=0;--_){var W=this.tryEntries[_];if(W.tryLoc===f){var $=W.completion;if($.type==="throw"){var q=$.arg;rs(W)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(f,_,W){return this.delegate={iterator:as(f),resultName:_,nextLoc:W},this.method==="next"&&(this.arg=void 0),V}},a}var Ve=function(){return window&&window.strapi&&window.strapi.isEE?e(98837).Z:e(42243).Z}(),Ie=function(n){var r=n.hasAdmin,m=n.setHasAdmin,g=(0,p.useHistory)(),y=g.push,d=g.location.search,c=(0,We.Z)(),v=c.changeLocale,E=(0,T.useGuidedTour)(),V=E.setSkipped,X=(0,T.useTracking)(),H=X.trackUsage,Y=(0,p.useRouteMatch)("/auth/:authType"),w=Y.params.authType,Te=(0,T.useQuery)(),Oe=$e()(Ve,w,{}),Me=Oe.Component,At=Oe.endPoint,Ut=Oe.fieldsToDisable,kt=Oe.fieldsToOmit,ln=Oe.inputsPrefix,rs=Oe.schema,os=(0,be.Z)(Oe,Nt),as=(0,t.useReducer)(_t,It,Je),is=(0,pe.Z)(as,2),P=is[0],f=P.formErrors,_=P.modifiedData,W=P.requestError,$=is[1],q=se().CancelToken,he=q.source();(0,t.useEffect)(function(){return function(){he.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){$({type:"RESET_PROPS"})},[w]);var dt=function(Re){var Se=Re.target,He=Se.name,De=Se.value;$({type:"ON_CHANGE",keys:He,value:De})},ct=function(){var et=(0,ce.Z)(Be().mark(function Re(Se,He){var De,ze,tt,st;return Be().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(De=He.setSubmitting,ze=He.setErrors,De(!0),tt=Mt()(Se,kt),st="/admin/".concat(At),w!=="login"){Ue.next=7;break}return Ue.next=7,Ke(Se,st,{setSubmitting:De,setErrors:ze});case 7:if(!(w==="register"||w==="register-admin")){Ue.next=10;break}return Ue.next=10,pt(Se,st,{setSubmitting:De,setErrors:ze});case 10:if(w!=="forgot-password"){Ue.next=13;break}return Ue.next=13,de(tt,st,{setSubmitting:De,setErrors:ze});case 13:if(w!=="reset-password"){Ue.next=16;break}return Ue.next=16,Cs(tt,st,{setSubmitting:De,setErrors:ze});case 16:case"end":return Ue.stop()}},Re)}));return function(Se,He){return et.apply(this,arguments)}}(),de=function(){var et=(0,ce.Z)(Be().mark(function Re(Se,He,De){var ze,tt;return Be().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return ze=De.setSubmitting,tt=De.setErrors,Le.prev=1,Le.next=4,se()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Se,cancelToken:he.token});case 4:y("/auth/forgot-password-success"),Le.next=11;break;case 7:Le.prev=7,Le.t0=Le.catch(1),Ft.error(Le.t0),tt({errorMessage:"notification.error"});case 11:return Le.prev=11,ze(!1),Le.finish(11);case 14:case"end":return Le.stop()}},Re,null,[[1,7,11,14]])}));return function(Se,He,De){return et.apply(this,arguments)}}(),Ke=function(){var et=(0,ce.Z)(Be().mark(function Re(Se,He,De){var ze,tt,st,Le,Ue,Et,yt;return Be().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return ze=De.setSubmitting,tt=De.setErrors,we.prev=1,we.next=4,se()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Mt()(Se,kt),cancelToken:he.token});case 4:st=we.sent,Le=st.data.data,Ue=Le.token,Et=Le.user,Et.preferedLanguage&&v(Et.preferedLanguage),T.auth.setToken(Ue,Se.rememberMe),T.auth.setUserInfo(Et,Se.rememberMe),ls(),we.next=23;break;case 14:if(we.prev=14,we.t0=we.catch(1),!we.t0.response){we.next=23;break}if(yt=$e()(we.t0,["response","data","error","message"],"Something went wrong"),fe()(yt).toLowerCase()!=="usernotactive"){we.next=22;break}return y("/auth/oops"),$({type:"RESET_PROPS"}),we.abrupt("return");case 22:tt({errorMessage:yt});case 23:return we.prev=23,ze(!1),we.finish(23);case 26:case"end":return we.stop()}},Re,null,[[1,14,23,26]])}));return function(Se,He,De){return et.apply(this,arguments)}}(),pt=function(){var et=(0,ce.Z)(Be().mark(function Re(Se,He,De){var ze,tt,st,Le,Ue,Et,yt,xt,we,Ge;return Be().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return ze=De.setSubmitting,tt=De.setErrors,at.prev=1,H("willCreateFirstAdmin"),at.next=5,se()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Mt()(Se,kt),cancelToken:he.token});case 5:if(st=at.sent,Le=st.data.data,Ue=Le.token,Et=Le.user,T.auth.setToken(Ue,!1),T.auth.setUserInfo(Et,!1),ze(!1),m(!0),yt=Et.roles,yt&&(xt=yt.find(function(Or){var Rr=Or.code;return Rr==="strapi-super-admin"}),xt&&(xe.setSkipped(!1),V(!1),H("didLaunchGuidedtour"))),!(w==="register"&&Se.userInfo.news===!0||w==="register-admin"&&Se.news===!0)){at.next=18;break}return y({pathname:"/usecase",search:"?hasAdmin=".concat(r)}),at.abrupt("return");case 18:ls(),at.next=25;break;case 21:at.prev=21,at.t0=at.catch(1),H("didNotCreateFirstAdmin"),at.t0.response&&(we=at.t0.response.data,Ge=(0,rt.Z)(we),tt({apiErrors:Ge}));case 25:case"end":return at.stop()}},Re,null,[[1,21]])}));return function(Se,He,De){return et.apply(this,arguments)}}(),Cs=function(){var et=(0,ce.Z)(Be().mark(function Re(Se,He,De){var ze,tt,st,Le,Ue,Et,yt,xt;return Be().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return ze=De.setErrors,tt=De.setSubmitting,Ge.prev=1,Ge.next=4,se()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Kt(Kt({},Se),{},{resetPasswordToken:Te.get("code")}),cancelToken:he.token});case 4:st=Ge.sent,Le=st.data.data,Ue=Le.token,Et=Le.user,T.auth.setToken(Ue,!1),T.auth.setUserInfo(Et,!1),y("/"),Ge.next=16;break;case 13:Ge.prev=13,Ge.t0=Ge.catch(1),Ge.t0.response&&(yt=$e()(Ge.t0,["response","data","message"],"Something went wrong"),xt=$e()(Ge.t0,["response","data","statusCode"],400),$({type:"SET_REQUEST_ERROR",errorMessage:yt,errorStatus:xt}),ze({errorMessage:yt}));case 16:return Ge.prev=16,tt(!1),Ge.finish(16);case 19:case"end":return Ge.stop()}},Re,null,[[1,13,16,19]])}));return function(Se,He,De){return et.apply(this,arguments)}}(),ls=function(){if(w==="login"){var Re=Te.get("redirectTo"),Se=Re?decodeURIComponent(Re):"/";y(Se)}else y("/")};return!Ve[w]||r&&w==="register-admin"||T.auth.getToken()?t.createElement(p.Redirect,{to:"/"}):!r&&w!=="register-admin"?t.createElement(p.Redirect,{to:{pathname:"/auth/register-admin",search:d}}):t.createElement(Me,(0,x.Z)({},os,{authType:w,fieldsToDisable:Ut,formErrors:f,inputsPrefix:ln,modifiedData:_,onChange:dt,onSubmit:ct,requestError:W,schema:rs}))};Ie.defaultProps={hasAdmin:!1},Ie.propTypes={hasAdmin:l().bool,setHasAdmin:l().func.isRequired};const Xe=Ie;var ht=e(23330),ot=e(78384),us=e(80129),Lt=e(67826),bt=e(5493),Gt=e(9008),Zt=e(49425),$t=e(43808),un=e(55967),As=e(83662),Ms=e(19408),dn=e(79690),ds=e(36206);const ut=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],cs=(0,ot.default)(Zt.Typography)`
  text-align: center;
`,Ds=()=>{const a=(0,T.useNotification)(),{push:n,location:r}=(0,p.useHistory)(),{formatMessage:m}=(0,ve.useIntl)(),[g,y]=(0,t.useState)(),[d,c]=(0,t.useState)(""),{firstname:v,email:E}=T.auth.getUserInfo(),{hasAdmin:V}=(0,us.parse)(r==null?void 0:r.search,{ignoreQueryPrefix:!0}),X=g==="other",H=Y=>{try{se()({method:"POST",url:"https://analytics.strapi.io/register",data:{email:E,username:v,firstAdmin:Boolean(!V),persona:{role:Y?void 0:g,otherRole:Y?void 0:d}}}),a({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),n("/")}catch(w){}};return t.createElement(ds.ZP,null,t.createElement(Fe.Main,{labelledBy:"usecase-title"},t.createElement(ds.bU,null,t.createElement("form",{onSubmit:()=>H(!1)},t.createElement(Lt.Flex,{direction:"column",paddingBottom:7},t.createElement(dn.Z,null),t.createElement(bt.Box,{paddingTop:6,paddingBottom:1,width:(0,T.pxToRem)(250)},t.createElement(cs,{variant:"alpha",as:"h1",id:"usecase-title"},m({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Gt.Stack,{spacing:6},t.createElement($t.Select,{id:"usecase","data-testid":"usecase",label:m({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:y,value:g},ut.map(({intlLabel:Y,value:w})=>t.createElement($t.Option,{key:w,value:w},m(Y)))),X&&t.createElement(un.TextInput,{name:"other",label:m({id:"Usecase.other",defaultMessage:"Other"}),value:d,onChange:Y=>c(Y.target.value),"data-testid":"other"}),t.createElement(Ms.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!g},m({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(Lt.Flex,{justifyContent:"center"},t.createElement(bt.Box,{paddingTop:4},t.createElement(As.TextButton,{onClick:()=>H(!0)},m({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var bs=e(66716),Is=(a,n,r)=>new Promise((m,g)=>{var y=v=>{try{c(r.next(v))}catch(E){g(E)}},d=v=>{try{c(r.throw(v))}catch(E){g(E)}},c=v=>v.done?m(v.value):Promise.resolve(v.value).then(y,d);c((r=r.apply(a,n)).next())});const _s=()=>Is(void 0,null,function*(){return`web-fingerprint-${(yield(yield bs.ZP.load()).get()).visitorId}`});var js=e(42982);const ws=[];var Bs=function(){return window&&window.strapi&&window.strapi.isEE?e(35499).Z:e(77981).Z}();const Us=[].concat((0,js.Z)(Bs),(0,js.Z)(ws));var Ht=e(59942),ks=Object.defineProperty,xs=Object.defineProperties,ps=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,fs=(a,n,r)=>n in a?ks(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,jt=(a,n)=>{for(var r in n||(n={}))ms.call(n,r)&&fs(a,r,n[r]);if(zt)for(var r of zt(n))mn.call(n,r)&&fs(a,r,n[r]);return a},gs=(a,n)=>xs(a,ps(n)),hs=(a,n,r)=>new Promise((m,g)=>{var y=v=>{try{c(r.next(v))}catch(E){g(E)}},d=v=>{try{c(r.throw(v))}catch(E){g(E)}},c=v=>v.done?m(v.value):Promise.resolve(v.value).then(y,d);c((r=r.apply(a,n)).next())});const Ws=(0,t.lazy)(()=>Promise.all([e.e(7814),e.e(5769),e.e(801)]).then(e.bind(e,94369)));function Fs(){const a=(0,T.useNotification)(),{updateProjectSettings:n}=(0,Ht.um)(),{formatMessage:r}=(0,ve.useIntl)(),[{isLoading:m,hasAdmin:g,uuid:y},d]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),c=(0,T.useAppInfos)(),v=(0,t.useMemo)(()=>(0,B.WW)(Us.map(({to:H,Component:Y,exact:w})=>(0,B.ot)(Y,H,w))),[]),[E,V]=(0,t.useState)(null);(0,t.useEffect)(()=>{const H=T.auth.getToken();H&&(()=>hs(this,null,function*(){try{const{data:{token:w}}=yield(0,T.request)("/admin/renew-token",{method:"POST",body:{token:H}});T.auth.updateToken(w)}catch(w){T.auth.clearAppStorage(),window.location.reload()}}))()},[]),(0,t.useEffect)(()=>{(()=>hs(this,null,function*(){try{const{data:{data:{hasAdmin:Y,uuid:w,menuLogo:Te}}}=yield se().get(`${strapi.backendURL}/admin/init`);if(n({menuLogo:(0,T.prefixFileUrlWithBackendUrl)(Te)}),w){const{data:{data:Oe}}=yield se().get(`${strapi.backendURL}/admin/telemetry-properties`);V(Oe);try{const Me=yield _s();fetch("https://analytics.strapi.io/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",uuid:w,deviceId:Me,properties:gs(jt({},Oe),{environment:c.currentEnvironment})}),headers:{"Content-Type":"application/json"}})}catch(Me){}}d({isLoading:!1,hasAdmin:Y,uuid:w})}catch(Y){a({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}}))()},[a,n]);const X=H=>d(Y=>gs(jt({},Y),{hasAdmin:H}));return m?t.createElement(T.LoadingIndicatorPage,null):t.createElement(t.Suspense,{fallback:t.createElement(T.LoadingIndicatorPage,null)},t.createElement(Fe.SkipToContent,null,r({id:"skipToContent"})),t.createElement(T.TrackingContext.Provider,{value:{uuid:y,telemetryProperties:E}},t.createElement(p.Switch,null,v,t.createElement(p.Route,{path:"/auth/:authType",render:H=>t.createElement(Xe,gs(jt({},H),{setHasAdmin:X,hasAdmin:g})),exact:!0}),t.createElement(ue,{path:"/usecase",component:Ds}),t.createElement(ue,{path:"/",component:Ws}),t.createElement(p.Route,{path:"",component:ht.default}))))}const Ns=Fs,Ks=e.p+"fde9b1ad0670d29a2516.png",Gs=e.p+"15026a3d58aeb2828134.png";var Vt=e(23724),Zs=e(37424),Xt=e(47713);const Yt={menuLogo:null},Qt=(a=Yt,n)=>(0,ft.default)(a,r=>{switch(n.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(r,n.values);break}default:return r}}),$s=({children:a,authLogo:n,menuLogo:r,showReleaseNotification:m,showTutorials:g})=>{const[{menuLogo:y},d]=(0,t.useReducer)(Qt,Yt),c=({menuLogo:E})=>d({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:E||r}}),v=(0,t.useRef)(c);return t.createElement(Xt._5.Provider,{value:{logos:{menu:{custom:y,default:r},auth:{custom:null,default:n}},updateProjectSettings:v.current,showReleaseNotification:m,showTutorials:g}},a)};$s.propTypes={authLogo:l().string.isRequired,children:l().element.isRequired,menuLogo:l().string.isRequired,showReleaseNotification:l().bool.isRequired,showTutorials:l().bool.isRequired};const Hs=$s;var Es=e(66913),fn=e.n(Es),zs=e(93343);const Jt=({changeLocale:a,children:n,localeNames:r,messages:m})=>t.createElement(zs.Z.Provider,{value:{changeLocale:a,localeNames:r,messages:m}},n);Jt.propTypes={changeLocale:l().func.isRequired,children:l().element.isRequired,localeNames:l().object.isRequired,messages:l().object.isRequired};const ys=Jt,Ps="strapi-admin-language",Vs=a=>{const n=window.localStorage.getItem(Ps);return{locale:a[n]?n:"en",localeNames:a}};var Ts=Object.defineProperty,Xs=Object.defineProperties,Ys=Object.getOwnPropertyDescriptors,qt=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,Js=Object.prototype.propertyIsEnumerable,qs=(a,n,r)=>n in a?Ts(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,en=(a,n)=>{for(var r in n||(n={}))Qs.call(n,r)&&qs(a,r,n[r]);if(qt)for(var r of qt(n))Js.call(n,r)&&qs(a,r,n[r]);return a},tn=(a,n)=>Xs(a,Ys(n));const es={localeNames:{en:"English"},locale:"en"},sn=(a=es,n)=>{switch(n.type){case"CHANGE_LOCALE":{const{locale:r}=n;return a.localeNames[r]?tn(en({},a),{locale:r}):a}default:return a}},ts=({children:a,localeNames:n,messages:r})=>{const[{locale:m},g]=(0,t.useReducer)(sn,es,()=>Vs(n));(0,t.useEffect)(()=>{window.localStorage.setItem(Ps,m)},[m]);const y=c=>{g({type:"CHANGE_LOCALE",locale:c})},d=fn()(r[m],r.en);return t.createElement(ve.IntlProvider,{locale:m,defaultLocale:"en",messages:d,textComponent:"span"},t.createElement(ys,{changeLocale:y,localeNames:n,messages:d},a))};ts.propTypes={children:l().element.isRequired,localeNames:l().objectOf(l().string).isRequired,messages:l().object.isRequired};const vn=ts,nn=(a,n)=>{const r=Object.entries(n),m=r.findIndex(([y])=>y===a);return r.slice(0,m).every(([,y])=>Object.values(y).every(Boolean))},yn=(a,n)=>{const r=a.split("."),m=r[1],g=Object.entries(n[r[0]]),y=g.findIndex(([c])=>c===m);return g.slice(0,y).every(([,c])=>c)},rn={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},u=(a=rn,n)=>(0,ft.default)(a,r=>{switch(n.type){case"SET_CURRENT_STEP":{r.currentStep=n.step;break}case"SET_STEP_STATE":{const[m,g]=n.currentStep.split(".");r.guidedTourState[m][g]=n.value;break}case"SET_SKIPPED":{r.isSkipped=n.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{r.isGuidedTourVisible=n.value;break}default:return r}});var o=e(36968),s=e.n(o),A=Object.defineProperty,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,L=(a,n,r)=>n in a?A(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,h=(a,n)=>{for(var r in n||(n={}))N.call(n,r)&&L(a,r,n[r]);if(S)for(var r of S(n))K.call(n,r)&&L(a,r,n[r]);return a};const Ye=a=>{const n=h({},a),r=xe.get(re),m=xe.get(Dt),g=xe.get(lt);if(r&&r.forEach(y=>{const[d,c]=y.split(".");s()(n,["guidedTourState",d,c],!0)}),m){const[y,d]=m.split(".");s()(n,["guidedTourState",y,d],!0),xe.addCompletedStep(m),xe.addCurrentStep(null)}return g!==null&&s()(n,"isSkipped",g),n},Pt=({children:a})=>{const[{currentStep:n,guidedTourState:r,isGuidedTourVisible:m,isSkipped:g},y]=(0,t.useReducer)(u,rn,Ye),d=X=>{if(X!==null){const H=$e()(r,X),Y=yn(X,r);if(H||g||!Y)return null}return xe.addCurrentStep(X),y({type:"SET_CURRENT_STEP",step:X})},c=X=>{y({type:"SET_GUIDED_TOUR_VISIBILITY",value:X})},v=(X,H)=>{xe.addCompletedStep(X),y({type:"SET_STEP_STATE",currentStep:X,value:H})},E=X=>{const H=r[X];if(H){const Y=nn(X,r),w=Object.keys(H)[0],Te=H[w];if(Y&&!n&&!Te)return d(`${X}.${w}`)}return null},V=X=>{xe.setSkipped(X),y({type:"SET_SKIPPED",value:X})};return t.createElement(T.GuidedTourProvider,{guidedTourState:r,currentStep:n,setCurrentStep:d,setGuidedTourVisibility:c,setSkipped:V,setStepState:v,startSection:E,isGuidedTourVisible:m,isSkipped:g},a)};Pt.propTypes={children:l().element.isRequired};const St=Pt;var Tt=e(73935),ss=e(79187),Os=e.n(ss),Rs=e(27590),ns=e.n(Rs),Ot=e(70677);const qe=(0,ot.default)(bt.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:a})=>a.colors.neutral0};
    opacity: 0.9;
  }
`,Rt=(0,ot.default)(Gt.Stack)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,T.pxToRem)(160)};
`,vt=(0,ot.default)(bt.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:a})=>a.colors.primary600} !important;
    }
  }
`,Ct=document.createElement("div"),Fn="autoReloadOverlayBlocker";Ct.setAttribute("id",Fn);const Nn=ot.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Kn=(0,ot.default)(ns())`
  animation: ${Nn} 1s infinite linear;
`,Tn=({displayedIcon:a,description:n,title:r,isOpen:m})=>{const{formatMessage:g}=(0,ve.useIntl)();return(0,t.useEffect)(()=>(document.body.appendChild(Ct),()=>{document.body.removeChild(Ct)}),[]),m?Tt.createPortal(t.createElement(qe,null,t.createElement(Rt,{spacing:6},t.createElement(Gt.Stack,{spacing:2},t.createElement(Lt.Flex,{justifyContent:"center"},t.createElement(Zt.Typography,{as:"h1",variant:"alpha"},g(r))),t.createElement(Lt.Flex,{justifyContent:"center"},t.createElement(Zt.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},g(n)))),t.createElement(Lt.Flex,{justifyContent:"center"},a==="reload"&&t.createElement(vt,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(Kn,{width:(0,T.pxToRem)(36),height:(0,T.pxToRem)(36)})),a==="time"&&t.createElement(vt,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(Os(),{width:(0,T.pxToRem)(40),height:(0,T.pxToRem)(40)}))),t.createElement(Lt.Flex,{justifyContent:"center"},t.createElement(bt.Box,{paddingTop:2},t.createElement(Ot.Link,{href:"https://docs.strapi.io",isExternal:!0},g({id:"global.documentation",defaultMessage:"Read the documentation"})))))),Ct):null};Tn.propTypes={displayedIcon:l().oneOfType([l().string,l().array]).isRequired,description:l().object.isRequired,isOpen:l().bool.isRequired,title:l().object.isRequired};const Gn=Tn;var Zn=Object.defineProperty,$n=Object.defineProperties,Hn=Object.getOwnPropertyDescriptors,On=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable,Rn=(a,n,r)=>n in a?Zn(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Sn=(a,n)=>{for(var r in n||(n={}))zn.call(n,r)&&Rn(a,r,n[r]);if(On)for(var r of On(n))Vn.call(n,r)&&Rn(a,r,n[r]);return a},Ln=(a,n)=>$n(a,Hn(n));const Cn=30,An=({children:a})=>{const[n,r]=(0,t.useState)(!1),[{elapsed:m},g]=(0,t.useState)({elapsed:0,start:0}),[y,d]=(0,t.useState)(void 0),c=(w=void 0)=>{r(!0),d(w),g(Te=>Ln(Sn({},Te),{start:Date.now()}))},v=()=>{r(!1),g({start:0,elapsed:0}),d(void 0)},E=(0,t.useRef)(c),V=(0,t.useRef)(v);(0,t.useEffect)(()=>{let w=null;return n?w=setInterval(()=>m>Cn?(clearInterval(w),null):(g(Te=>Ln(Sn({},Te),{elapsed:Math.round(Date.now()-Te.start)/1e3})),null),1e3):clearInterval(w),()=>{clearInterval(w)}},[n,m]);let X=(y==null?void 0:y.icon)||"reload",H={id:(y==null?void 0:y.description)||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},Y={id:(y==null?void 0:y.title)||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};return m>Cn&&(X="time",H={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},Y={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"}),t.createElement(T.AutoReloadOverlayBockerContext.Provider,{value:{lockApp:E.current,unlockApp:V.current}},t.createElement(Gn,{displayedIcon:X,isOpen:n,description:H,title:Y}),a)};An.propTypes={children:l().element.isRequired};const Xn=An;var Yn=e(9925);const on=({dispatch:a,notification:n})=>{var r,m,g;const{formatMessage:y}=(0,ve.useIntl)(),{message:d,link:c,type:v,id:E,onClose:V,timeout:X,blockTransition:H}=n,Y=Me=>typeof Me=="string"?Me:y(Me,Me.values),w=(0,t.useCallback)(()=>{V&&V(),a({type:"HIDE_NOTIFICATION",id:E})},[E]);(0,t.useEffect)(()=>{let Me;return H||(Me=setTimeout(()=>{w()},X||2500)),()=>clearTimeout(Me)},[H,w,X]);let Te,Oe;return v==="info"?(Te="default",Oe=y({id:"notification.default.title",defaultMessage:"Information:"})):v==="warning"?(Oe=y({id:"notification.warning.title",defaultMessage:"Warning:"}),Te="danger"):(Oe=y({id:"notification.success.title",defaultMessage:"Success:"}),Te="success"),t.createElement(Yn.Alert,{action:c?t.createElement(Ot.Link,{href:c.url,isExternal:!0},y({id:((r=c.label)==null?void 0:r.id)||c.label,defaultMessage:((m=c.label)==null?void 0:m.defaultMessage)||((g=c.label)==null?void 0:g.id)||c.label})):void 0,onClose:w,closeLabel:"Close",title:Oe,variant:Te},Y({id:(d==null?void 0:d.id)||d,defaultMessage:(d==null?void 0:d.defaultMessage)||(d==null?void 0:d.id)||d}))};on.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},on.propTypes={dispatch:l().func.isRequired,notification:l().shape({id:l().number,message:l().oneOfType([l().string,l().shape({id:l().string.isRequired,defaultMessage:l().string,values:l().object})]),link:l().shape({target:l().string,url:l().string.isRequired,label:l().oneOfType([l().string,l().shape({id:l().string.isRequired,defaultMessage:l().string,values:l().object})]).isRequired}),type:l().string,onClose:l().func,timeout:l().number,blockTransition:l().bool})};const Qn=on,Mn={notifId:0,notifications:[]},Jn=(a=Mn,n)=>(0,ft.default)(a,r=>{switch(n.type){case"SHOW_NOTIFICATION":{r.notifications.push({id:a.notifId,type:$e()(n,["config","type"],"success"),message:$e()(n,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:$e()(n,["config","link"],null),timeout:$e()(n,["config","timeout"],2500),blockTransition:$e()(n,["config","blockTransition"],!1),onClose:$e()(n,["config","onClose"],null)}),r.notifId=a.notifId+1;break}case"HIDE_NOTIFICATION":{const m=a.notifications.findIndex(g=>g.id===n.id);m!==-1&&r.notifications.splice(m,1);break}default:return r}}),Dn=({children:a})=>{const[{notifications:n},r]=(0,t.useReducer)(Jn,Mn),m=g=>{r({type:"SHOW_NOTIFICATION",config:g})};return t.createElement(T.NotificationsProvider,{toggleNotification:m},t.createElement(Gt.Stack,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},n.map(g=>t.createElement(Qn,{key:g.id,dispatch:r,notification:g}))),a)};Dn.propTypes={children:l().element.isRequired};const qn=Dn,Ss=document.createElement("div");Ss.setAttribute("id","overlayBlocker");const er=ot.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,bn=({isOpen:a})=>((0,t.useEffect)(()=>(document.body.appendChild(Ss),()=>{document.body.removeChild(Ss)}),[]),a?Tt.createPortal(t.createElement(er,null),Ss):null);bn.propTypes={isOpen:l().bool.isRequired};const In=({children:a})=>{const[n,r]=(0,t.useState)(!1),m=()=>{r(!0)},g=()=>{r(!1)};return t.createElement(T.OverlayBlockerContext.Provider,{value:{lockApp:m,unlockApp:g}},a,t.createElement(bn,{isOpen:n}))};In.propTypes={children:l().node.isRequired};const tr=In,_n="STRAPI_THEME",sr=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return localStorage.getItem(_n)||a},jn=({children:a,themes:n})=>{const[r,m]=(0,t.useState)(sr()),g=y=>{m(y),localStorage.setItem(_n,y)};return t.createElement(Xt.Rj.Provider,{value:{currentTheme:r,onChangeTheme:g,themes:n}},a)};jn.propTypes={children:l().node.isRequired,themes:l().shape({light:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,dark:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,custom:l().object}).isRequired};const nr=jn;var rr=e(29502),or=(a,n,r)=>new Promise((m,g)=>{var y=v=>{try{c(r.next(v))}catch(E){g(E)}},d=v=>{try{c(r.throw(v))}catch(E){g(E)}},c=v=>v.done?m(v.value):Promise.resolve(v.value).then(y,d);c((r=r.apply(a,n)).next())});(()=>or(void 0,null,function*(){yield e.e(7723).then(e.bind(e,5403)),yield e.e(7566).then(e.bind(e,56831)),yield e.e(8e3).then(e.t.bind(e,94563,23)),yield e.e(7784).then(e.bind(e,74063))}))();const ar=ot.createGlobalStyle`
  body {
    background: ${({theme:a})=>a.colors.neutral100};
  }
`,wn=({children:a})=>{const{currentTheme:n,themes:r}=(0,Ht.M1)();return t.createElement(rr.ThemeProvider,{theme:r[n]||r.light},a,t.createElement(ar,null))};wn.propTypes={children:l().element.isRequired};const ir=wn,lr=new Vt.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Bn=({authLogo:a,children:n,components:r,fields:m,getAdminInjectedComponents:g,getPlugin:y,localeNames:d,menu:c,menuLogo:v,messages:E,plugins:V,runHookParallel:X,runHookSeries:H,runHookWaterfall:Y,settings:w,showReleaseNotification:Te,showTutorials:Oe,store:Me,themes:At})=>t.createElement(nr,{themes:At},t.createElement(ir,null,t.createElement(Vt.QueryClientProvider,{client:lr},t.createElement(Zs.Provider,{store:Me},t.createElement(Xt.ux.Provider,{value:{getAdminInjectedComponents:g}},t.createElement(Hs,{authLogo:a,menuLogo:v,showReleaseNotification:Te,showTutorials:Oe},t.createElement(T.StrapiAppProvider,{getPlugin:y,menu:c,plugins:V,runHookParallel:X,runHookWaterfall:Y,runHookSeries:H,settings:w},t.createElement(T.LibraryProvider,{components:r,fields:m},t.createElement(vn,{messages:E,localeNames:d},t.createElement(Xn,null,t.createElement(tr,null,t.createElement(St,null,t.createElement(qn,null,n)))))))))))));Bn.propTypes={authLogo:l().oneOfType([l().string,l().any]).isRequired,children:l().element.isRequired,components:l().object.isRequired,fields:l().object.isRequired,getAdminInjectedComponents:l().func.isRequired,getPlugin:l().func.isRequired,localeNames:l().objectOf(l().string).isRequired,menu:l().arrayOf(l().shape({to:l().string.isRequired,icon:l().func.isRequired,intlLabel:l().shape({id:l().string.isRequired,defaultMessage:l().string.isRequired}).isRequired,permissions:l().array,Component:l().func})).isRequired,menuLogo:l().oneOfType([l().string,l().any]).isRequired,messages:l().object.isRequired,plugins:l().object.isRequired,runHookParallel:l().func.isRequired,runHookWaterfall:l().func.isRequired,runHookSeries:l().func.isRequired,settings:l().object.isRequired,showReleaseNotification:l().bool.isRequired,showTutorials:l().bool.isRequired,store:l().object.isRequired,themes:l().shape({light:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,dark:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,custom:l().object}).isRequired};const ur=Bn,dr={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var Ls=e(80660);const cr={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},pr=e.p+"b997a22a2e0b87ef1fa2.ico";var mr=e(25108),fr=Object.defineProperty,gr=Object.defineProperties,hr=Object.getOwnPropertyDescriptors,Un=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,an=(a,n,r)=>n in a?fr(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,wt=(a,n)=>{for(var r in n||(n={}))vr.call(n,r)&&an(a,r,n[r]);if(Un)for(var r of Un(n))Er.call(n,r)&&an(a,r,n[r]);return a},yr=(a,n)=>gr(a,hr(n)),_e=(a,n,r)=>(an(a,typeof n!="symbol"?n+"":n,r),r),Bt=(a,n,r)=>new Promise((m,g)=>{var y=v=>{try{c(r.next(v))}catch(E){g(E)}},d=v=>{try{c(r.throw(v))}catch(E){g(E)}},c=v=>v.done?m(v.value):Promise.resolve(v.value).then(y,d);c((r=r.apply(a,n)).next())});class Pr{constructor({adminConfig:n,appPlugins:r,library:m,middlewares:g,reducers:y}){_e(this,"addComponents",d=>{Array.isArray(d)?d.map(c=>this.library.components.add(c)):this.library.components.add(d)}),_e(this,"addCorePluginMenuLink",d=>{var c,v;const E=JSON.stringify(d);I()(d.to,`link.to should be defined for ${E}`),I()(typeof d.to=="string",`Expected link.to to be a string instead received ${typeof d.to}`),I()(["/plugins/content-type-builder","/plugins/upload"].includes(d.to),"This method is not available for your plugin"),I()(((c=d.intlLabel)==null?void 0:c.id)&&((v=d.intlLabel)==null?void 0:v.defaultMessage),`link.intlLabel.id & link.intlLabel.defaultMessage for ${E}`),this.menu.push(d)}),_e(this,"addFields",d=>{Array.isArray(d)?d.map(c=>this.library.fields.add(c)):this.library.fields.add(d)}),_e(this,"addMenuLink",d=>{var c,v;const E=JSON.stringify(d);I()(d.to,`link.to should be defined for ${E}`),I()(typeof d.to=="string",`Expected link.to to be a string instead received ${typeof d.to}`),I()(((c=d.intlLabel)==null?void 0:c.id)&&((v=d.intlLabel)==null?void 0:v.defaultMessage),`link.intlLabel.id & link.intlLabel.defaultMessage for ${E}`),I()(d.Component&&typeof d.Component=="function","link.Component should be a valid React Component"),I()(d.icon&&typeof d.icon=="function","link.Icon should be a valid React Component"),this.menu.push(d)}),_e(this,"addMiddlewares",d=>{d.forEach(c=>{this.middlewares.add(c)})}),_e(this,"addReducers",d=>{Object.keys(d).forEach(c=>{this.reducers.add(c,d[c])})}),_e(this,"addSettingsLink",(d,c)=>{var v,E;I()(this.settings[d],"The section does not exist");const V=JSON.stringify(c);I()(c.id,`link.id should be defined for ${V}`),I()(((v=c.intlLabel)==null?void 0:v.id)&&((E=c.intlLabel)==null?void 0:E.defaultMessage),`link.intlLabel.id & link.intlLabel.defaultMessage for ${V}`),I()(c.to,`link.to should be defined for ${V}`),I()(c.Component&&typeof c.Component=="function","link.Component should be a valid React Component"),this.settings[d].links.push(c)}),_e(this,"addSettingsLinks",(d,c)=>{I()(this.settings[d],"The section does not exist"),I()(Array.isArray(c),"TypeError expected links to be an array"),c.forEach(v=>{this.addSettingsLink(d,v)})}),_e(this,"bootstrapAdmin",()=>Bt(this,null,function*(){return yield this.createCustomConfigurations(),this.createHook(Ls.No),this.createHook(Ls.LK),this.createHook(Ls.dV),this.createHook(Ls.Eo),Promise.resolve()})),_e(this,"createCustomConfigurations",()=>Bt(this,null,function*(){var d,c,v,E,V,X,H,Y,w,Te,Oe,Me;(d=this.customConfigurations)!=null&&d.locales&&(this.configurations.locales=["en",...(c=this.customConfigurations.locales)==null?void 0:c.filter(At=>At!=="en")]),(E=(v=this.customConfigurations)==null?void 0:v.auth)!=null&&E.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),(X=(V=this.customConfigurations)==null?void 0:V.menu)!=null&&X.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),(Y=(H=this.customConfigurations)==null?void 0:H.head)!=null&&Y.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),(w=this.customConfigurations)!=null&&w.theme&&b()(this.configurations.themes.light,this.customConfigurations.theme),((Oe=(Te=this.customConfigurations)==null?void 0:Te.notifications)==null?void 0:Oe.releases)!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),((Me=this.customConfigurations)==null?void 0:Me.tutorials)!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)})),_e(this,"createHook",d=>{this.hooksDict[d]=(0,U.Bi)()}),_e(this,"createSettingSection",(d,c)=>{var v,E;I()(d.id,"section.id should be defined"),I()(((v=d.intlLabel)==null?void 0:v.id)&&((E=d.intlLabel)==null?void 0:E.defaultMessage),"section.intlLabel should be defined"),I()(Array.isArray(c),"TypeError expected links to be an array"),I()(this.settings[d.id]===void 0,"A similar section already exists"),this.settings[d.id]=yr(wt({},d),{links:[]}),c.forEach(V=>{this.addSettingsLink(d.id,V)})}),_e(this,"createStore",()=>J(this.middlewares.middlewares,this.reducers.reducers)),_e(this,"getAdminInjectedComponents",(d,c,v)=>{try{return this.admin.injectionZones[d][c][v]||[]}catch(E){return mr.error("Cannot get injected component",E),E}}),_e(this,"getPlugin",d=>this.plugins[d]),_e(this,"injectContentManagerComponent",(d,c,v)=>{var E;I()((E=this.admin.injectionZones.contentManager[d])==null?void 0:E[c],`The ${d} ${c} zone is not defined in the content manager`),I()(v,"A Component must be provided"),this.admin.injectionZones.contentManager[d][c].push(v)}),_e(this,"injectAdminComponent",(d,c,v)=>{var E;I()((E=this.admin.injectionZones.admin[d])==null?void 0:E[c],`The ${d} ${c} zone is not defined in the admin`),I()(v,"A Component must be provided"),this.admin.injectionZones.admin[d][c].push(v)}),_e(this,"registerHook",(d,c)=>{I()(this.hooksDict[d],`The hook ${d} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[d].register(c)}),_e(this,"registerPlugin",d=>{const c=(0,le.Sy)(d);this.plugins[c.pluginId]=c}),_e(this,"runHookSeries",(d,c=!1)=>c?this.hooksDict[d].runSeriesAsync():this.hooksDict[d].runSeries()),_e(this,"runHookWaterfall",(d,c,v=!1,E)=>v?this.hooksDict[d].runWaterfallAsync(c,E):this.hooksDict[d].runWaterfall(c,E)),_e(this,"runHookParallel",d=>this.hooksDict[d].runParallel()),this.customConfigurations=n.config,this.customBootstrapConfiguration=n.bootstrap,this.configurations={authLogo:Ks,head:{favicon:pr},locales:["en"],menuLogo:Gs,notifications:{releases:!0},themes:{light:i.lightTheme,dark:i.darkTheme},translations:{},tutorials:!0},this.appPlugins=r||{},this.library=m,this.middlewares=g,this.plugins={},this.reducers=y,this.translations={},this.hooksDict={},this.admin={injectionZones:cr},this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}bootstrap(){return Bt(this,null,function*(){Object.keys(this.appPlugins).forEach(n=>{const r=this.appPlugins[n].bootstrap;r&&r({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),ie()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})})}initialize(){return Bt(this,null,function*(){Object.keys(this.appPlugins).forEach(n=>{this.appPlugins[n].register({addComponents:this.addComponents,addCorePluginMenuLink:this.addCorePluginMenuLink,addFields:this.addFields,addMenuLink:this.addMenuLink,addMiddlewares:this.addMiddlewares,addReducers:this.addReducers,createHook:this.createHook,createSettingSection:this.createSettingSection,registerPlugin:this.registerPlugin})})})}loadAdminTrads(){return Bt(this,null,function*(){const n=this.configurations.locales.map(g=>e(95423)(`./${g}.json`).then(({default:y})=>({data:y,locale:g})).catch(()=>({data:null,locale:g})));return(yield Promise.all(n)).reduce((g,y)=>(y.data&&(g[y.locale]=y.data),g),{})})}loadTrads(){return Bt(this,null,function*(){const n=yield this.loadAdminTrads(),r=Object.keys(this.appPlugins).map(d=>{const c=this.appPlugins[d].registerTrads;return c?c({locales:this.configurations.locales}):null}).filter(d=>d),g=(yield Promise.all(r)).reduce((d,c)=>{const v=c.reduce((E,V)=>(E[V.locale]=V.data,E),{});return Object.keys(v).forEach(E=>{d[E]=wt(wt({},d[E]),v[E])}),d},{}),y=this.configurations.locales.reduce((d,c)=>{var v,E;return d[c]=wt(wt(wt({},n[c]),g[c]||{}),(E=(v=this.customConfigurations)==null?void 0:v.translations)==null?void 0:E[c]),d},{});return this.configurations.translations=y,Promise.resolve()})}render(){const n=this.createStore(),r=F()(dr,this.configurations.locales||[]),{components:{components:m},fields:{fields:g}}=this.library;return t.createElement(ur,{authLogo:this.configurations.authLogo,components:m,fields:g,localeNames:r,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(y,d,c=!1)=>this.runHookWaterfall(y,d,c,n),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:n},t.createElement(t.Fragment,null,t.createElement(Q.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}]}),t.createElement(p.BrowserRouter,{basename:U.EZ},t.createElement(Ns,{store:n}))))}}const Tr=({adminConfig:a={},appPlugins:n,library:r,middlewares:m,reducers:g})=>new Pr({adminConfig:a,appPlugins:n,library:r,middlewares:m,reducers:g})},93343:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>i});var t=e(67294);const i=(0,t.createContext)()},50592:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>O});var t=e(67294),p=e(93343);const O=()=>{const{changeLocale:b,localeNames:C,messages:F}=(0,t.useContext)(p.Z);return{changeLocale:b,localeNames:C,messages:F}}},79690:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>C});var t=e(67294),p=e(78384),i=e(59942);const O=p.default.img`
  height: ${72/16}rem;
`,C=()=>{const{logos:{auth:F}}=(0,i.um)();return t.createElement(O,{src:F.default,"aria-hidden":!0,alt:""})}},47713:(ae,M,e)=>{"use strict";e.d(M,{ux:()=>i,_5:()=>b,$l:()=>F,Rj:()=>ie});var t=e(67294);const i=(0,t.createContext)({}),b=(0,t.createContext)({}),F=(0,t.createContext)({}),ie=(0,t.createContext)({})},80660:(ae,M,e)=>{"use strict";e.d(M,{Eo:()=>i,LK:()=>p,No:()=>t,dV:()=>O});const t="Admin/CM/pages/ListView/inject-column-in-table",p="Admin/CM/pages/App/mutate-collection-types-links",i="Admin/CM/pages/EditView/mutate-edit-view-layout",O="Admin/CM/pages/App/mutate-single-types-links"},59942:(ae,M,e)=>{"use strict";e.d(M,{um:()=>t.Z,U_:()=>Ze,Dq:()=>pe,H9:()=>Ft,bP:()=>le,$_:()=>En,bF:()=>ds,G4:()=>sn,Te:()=>zs,M1:()=>Pn});var t=e(87569),p=e(67294),i=e(68547),O=e(73749);const b={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},F=(u,o)=>(0,O.default)(u,s=>{switch(o.type){case"GET_MODELS":{s.collectionTypes=b.collectionTypes,s.singleTypes=b.singleTypes,s.components=b.components,s.isLoading=!0;break}case"GET_MODELS_ERROR":{s.collectionTypes=b.collectionTypes,s.singleTypes=b.singleTypes,s.components=b.components,s.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const A=S=>o.contentTypes.filter(N=>N.isDisplayed&&N.kind===S);s.isLoading=!1,s.collectionTypes=A("collectionType"),s.singleTypes=A("singleType"),s.components=o.components;break}default:return s}});var ee=Object.defineProperty,ie=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,D=(u,o,s)=>o in u?ee(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,R=(u,o)=>{for(var s in o||(o={}))Q.call(o,s)&&D(u,s,o[s]);if(I)for(var s of I(o))U.call(o,s)&&D(u,s,o[s]);return u},Z=(u,o)=>ie(u,oe(o)),z=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const le=()=>{const u=(0,i.useNotification)(),[o,s]=(0,p.useReducer)(F,b);(0,p.useEffect)(()=>{A()},[]);const A=()=>z(void 0,null,function*(){s({type:"GET_MODELS"});try{const[{data:S},{data:N}]=yield Promise.all(["components","content-types"].map(K=>(0,i.request)(`/content-manager/${K}`,{method:"GET"})));s({type:"GET_MODELS_SUCCEDED",contentTypes:N,components:S})}catch(S){s({type:"GET_MODELS_ERROR"}),u({type:"warning",message:{id:"notification.error"}})}});return Z(R({},o),{getData:A})},T={data:{},error:null,isLoading:!0},se=(u,o)=>(0,O.default)(u,s=>{switch(o.type){case"GET_DATA":{s.isLoading=!0,s.data={},s.error=null;break}case"GET_DATA_SUCCEEDED":{s.data=o.data,s.isLoading=!1,s.error=null;break}case"GET_DATA_ERROR":{s.isLoading=!1,s.error=o.error;break}default:return s}});var Fe=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const Ze=u=>{const[{data:o,error:s,isLoading:A},S]=(0,p.useReducer)(se,T);return(0,p.useEffect)(()=>{(()=>Fe(void 0,null,function*(){S({type:"GET_DATA"});const{data:K}=yield(0,i.request)("/admin/permissions",{method:"GET",params:{role:u}});S({type:"GET_DATA_SUCCEEDED",data:K})}))()},[u]),{data:o,error:s,isLoading:A}},l={role:{},permissions:{},isLoading:!0},ke=(u,o)=>(0,O.default)(u,s=>{switch(o.type){case"GET_DATA_SUCCEEDED":{s.role=o.role,s.permissions=o.permissions,s.isLoading=!1;break}case"GET_DATA_ERROR":{s.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{s.role.name=o.name,s.role.description=o.description;break}default:return s}});var it=e(25108),Ee=Object.defineProperty,ye=Object.defineProperties,me=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,B=(u,o,s)=>o in u?Ee(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,j=(u,o)=>{for(var s in o||(o={}))te.call(o,s)&&B(u,s,o[s]);if(Pe)for(var s of Pe(o))ue.call(o,s)&&B(u,s,o[s]);return u},x=(u,o)=>ye(u,me(o)),je=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const pe=u=>{const o=(0,i.useNotification)(),[s,A]=(0,p.useReducer)(ke,l);(0,p.useEffect)(()=>{u?S(u):A({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[u]);const S=K=>je(void 0,null,function*(){try{const[{data:L},{data:h}]=yield Promise.all([`roles/${K}`,`roles/${K}/permissions`].map(G=>(0,i.request)(`/admin/${G}`,{method:"GET"})));A({type:"GET_DATA_SUCCEEDED",role:L,permissions:h})}catch(L){it.error(L),A({type:"GET_DATA_ERROR"}),o({type:"warning",message:{id:"notification.error"}})}}),N=(0,p.useCallback)(K=>{A(j({type:"ON_SUBMIT_SUCCEEDED"},K))},[]);return x(j({},s),{onSubmitSucceeded:N})},ne=(u,o)=>o.map(({permissions:s})=>(0,i.hasPermissions)(u,s));var fe=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const $e=(u,o)=>fe(void 0,null,function*(){const s=ne(u,o),A=yield Promise.all(s);return o.filter((N,K)=>A[K])});var Wt=e(50361),Mt=e.n(Wt),Dt=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const lt=(u,o,s)=>Dt(void 0,null,function*(){const A=ne(u,o),S=yield Promise.all(A),N=o.filter((h,G)=>S[G]),K=N.findIndex(h=>h.to==="/settings");if(K===-1)return[];const L=Mt()(N);return L[K].notificationsCount=s?1:0,L});var ge=e(70736),nt=e.n(ge),Qe=e(75237),xe=e.n(Qe),We=e(5802),rt=e.n(We),Ce=e(87751);const Je={generalSectionLinks:[{icon:xe(),intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:Ce.Z.marketplace.main},{icon:rt(),intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:Ce.Z.marketplace.main},{icon:nt(),intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},gt=(u=Je,o)=>(0,O.default)(u,s=>{switch(o.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:A,authorizedPluginSectionLinks:S}=o.data;s.generalSectionLinks=A,s.pluginsSectionLinks=S;break}case"UNSET_IS_LOADING":{s.isLoading=!1;break}default:return s}});var It=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const Ft=()=>{const[u,o]=(0,p.useReducer)(gt,Je),{allPermissions:s}=(0,i.useRBACProvider)(),{shouldUpdateStrapi:A}=(0,i.useAppInfos)(),{menu:S}=(0,i.useStrapiApp)(),N=(0,p.useRef)(u.generalSectionLinks),K=(0,p.useRef)(A),L=(...G)=>It(void 0,[...G],function*(Ye=s){const St=yield $e(Ye,S),Tt=yield lt(Ye,N.current,K.current);o({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:Tt,authorizedPluginSectionLinks:St}}),o({type:"UNSET_IS_LOADING"})}),h=(0,p.useRef)(L);return(0,p.useEffect)(()=>{h.current(s)},[s,o]),u};var Nt=e(27361),Ae=e.n(Nt),Kt=e(23998),Be=Object.defineProperty,Ve=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,us=(u,o,s)=>o in u?Be(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,Lt=(u,o)=>{for(var s in o||(o={}))ht.call(o,s)&&us(u,s,o[s]);if(Xe)for(var s of Xe(o))ot.call(o,s)&&us(u,s,o[s]);return u},bt=(u,o)=>Ve(u,Ie(o));const Zt=(u,o)=>bt(Lt({},u),{isLoading:o}),$t={roles:[],isLoading:!0},As=(u,o)=>(0,O.default)(u,s=>{switch(o.type){case"GET_DATA":{s.isLoading=!0,s.roles=[];break}case"GET_DATA_SUCCEEDED":{s.roles=o.data,s.isLoading=!1;break}case"GET_DATA_ERROR":{s.isLoading=!1;break}default:return s}});var Ms=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const ds=(u=!0)=>{const o=(0,i.useNotification)(),[{roles:s,isLoading:A},S]=(0,p.useReducer)(As,$t,()=>Zt($t,u));(0,p.useEffect)(()=>{u&&N()},[u]);const N=(0,p.useCallback)(()=>Ms(void 0,null,function*(){try{S({type:"GET_DATA"});const{data:{data:K}}=yield Kt.be.get("/admin/roles");S({type:"GET_DATA_SUCCEEDED",data:K})}catch(K){const L=Ae()(K,["response","payload","message"],"An error occured");S({type:"GET_DATA_ERROR"}),L!=="Forbidden"&&o({type:"warning",message:L})}}),[o]);return{roles:s,isLoading:A,getData:N}};var ut=e(96486);const cs={menu:[],isLoading:!0},Ds=(u,o)=>(0,O.default)(u,s=>{switch(o.type){case"CHECK_PERMISSIONS_SUCCEEDED":{o.data.forEach(A=>{A.hasPermission&&(0,ut.set)(s,["menu",...A.path.split("."),"isDisplayed"],A.hasPermission)}),s.menu.forEach((A,S)=>{s.menu[S].links=A.links.filter(N=>N.isDisplayed===!0)}),s.isLoading=!1;break}default:return s}});var bs=e(57557),Is=e.n(bs),cn=e(89734),_s=e.n(cn);const pn=u=>_s()(u,o=>o.id);var ws=Object.defineProperty,Bs=Object.defineProperties,Us=Object.getOwnPropertyDescriptors,Ht=Object.getOwnPropertySymbols,ks=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,ps=(u,o,s)=>o in u?ws(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,zt=(u,o)=>{for(var s in o||(o={}))ks.call(o,s)&&ps(u,s,o[s]);if(Ht)for(var s of Ht(o))xs.call(o,s)&&ps(u,s,o[s]);return u},ms=(u,o)=>Bs(u,Us(o));const fs=u=>u.map(o=>{const s=o.links.map(A=>ms(zt({},A),{isDisplayed:!1}));return ms(zt({},o),{links:s})});var jt=e(42982);const hs=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:Ce.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:Ce.Z.settings["api-tokens"].main}];var Ws=function(){return window&&window.strapi&&window.strapi.isEE?e(8353).Z:e(88506).Z}();const Fs=[].concat((0,jt.Z)(hs),(0,jt.Z)(Ws));var Ns=Object.defineProperty,Ks=Object.defineProperties,Gs=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,Zs=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,Yt=(u,o,s)=>o in u?Ns(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,vs=(u,o)=>{for(var s in o||(o={}))Zs.call(o,s)&&Yt(u,s,o[s]);if(Vt)for(var s of Vt(o))Xt.call(o,s)&&Yt(u,s,o[s]);return u},Qt=(u,o)=>Ks(u,Gs(o));const Hs=(u,{settings:o,shouldUpdateStrapi:s})=>{const A=o.global.links,S=pn([...A,...Fs]).map(L=>Qt(vs({},L),{hasNotification:L.id==="000-application-infos"&&s})),N=Object.values(Is()(o,"global")),K=[Qt(vs({},o.global),{links:S}),{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:Ce.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:Ce.Z.settings.users.main}]},...N];return Qt(vs({},u),{menu:fs(K)})};var Es=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const zs=(u=!1)=>{const{allPermissions:o}=(0,i.useRBACProvider)(),{shouldUpdateStrapi:s}=(0,i.useAppInfos)(),{settings:A}=(0,i.useStrapiApp)(),[{isLoading:S,menu:N},K]=(0,p.useReducer)(Ds,cs,()=>Hs(cs,{settings:A,shouldUpdateStrapi:s}));return(0,p.useEffect)(()=>{u||(()=>Es(void 0,null,function*(){const h=(St,Tt)=>Es(void 0,null,function*(){return{hasPermission:yield(0,i.hasPermissions)(o,St),path:Tt}}),Ye=(St=>St.reduce((Tt,ss,Os)=>{const Rs=ns=>ns.map((Ot,qe)=>h(ns[qe].permissions,`${Os}.links.${qe}`));return[...Tt,...Rs(ss.links)]},[]))(N),Pt=yield Promise.all(Ye);K({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Pt})}))()},[o,u]),{isLoading:S,menu:N}};var Jt=e(8610);const ys={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},gn=(u,o)=>(0,O.default)(u,s=>{switch(o.type){case"GET_DATA_SUCCEEDED":{s.isLoading=!1,s.showHeaderLoader=!1,s.initialData=(0,ut.pick)(o.data,u.fieldsToPick),s.modifiedData=(0,ut.pick)(o.data,u.fieldsToPick);break}case"ON_CANCEL":{s.modifiedData=u.initialData,s.formErrors={};break}case"ON_CHANGE":{o.inputType==="password"&&!o.value?(0,ut.unset)(s.modifiedData,o.keys.split(".")):o.keys.includes("username")&&!o.value?(0,ut.set)(s.modifiedData,o.keys.split("."),null):(0,ut.set)(s.modifiedData,o.keys.split("."),o.value);break}case"ON_SUBMIT":{s.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{s.initialData=(0,ut.pick)(o.data,u.fieldsToPick),s.modifiedData=(0,ut.pick)(o.data,u.fieldsToPick),s.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{s.formErrors=o.errors,s.showHeaderButtonLoader=!1;break}default:return s}});var Ps=Object.defineProperty,hn=Object.defineProperties,Vs=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,qt=(u,o,s)=>o in u?Ps(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,Qs=(u,o)=>{for(var s in o||(o={}))Xs.call(o,s)&&qt(u,s,o[s]);if(Ts)for(var s of Ts(o))Ys.call(o,s)&&qt(u,s,o[s]);return u},Js=(u,o)=>hn(u,Vs(o));const en=(u,o)=>Js(Qs({},u),{fieldsToPick:o});var tn=e(25108),es=(u,o,s)=>new Promise((A,S)=>{var N=h=>{try{L(s.next(h))}catch(G){S(G)}},K=h=>{try{L(s.throw(h))}catch(G){S(G)}},L=h=>h.done?A(h.value):Promise.resolve(h.value).then(N,K);L((s=s.apply(u,o)).next())});const sn=(u,o,s,A)=>{const[{formErrors:S,initialData:N,isLoading:K,modifiedData:L,showHeaderButtonLoader:h,showHeaderLoader:G},Ye]=(0,p.useReducer)(gn,ys,()=>en(ys,A)),Pt=(0,i.useNotification)(),{lockApp:St,unlockApp:Tt}=(0,i.useOverlayBlocker)();return(0,p.useEffect)(()=>{u&&(()=>es(void 0,null,function*(){try{const{data:qe}=yield(0,i.request)(u,{method:"GET"});Ye({type:"GET_DATA_SUCCEEDED",data:qe,fieldsToPick:A})}catch(qe){tn.error(qe.response),Pt({type:"warning",message:{id:"notification.error"}})}}))()},[u]),[{formErrors:S,initialData:N,isLoading:K,modifiedData:L,showHeaderButtonLoader:h,showHeaderLoader:G},Ye,{handleCancel:()=>{Ye({type:"ON_CANCEL"})},handleChange:({target:{name:Ot,value:qe,type:Rt}})=>{Ye({type:"ON_CHANGE",inputType:Rt,keys:Ot,value:qe})},handleSubmit:Ot=>es(void 0,null,function*(){Ot.preventDefault();const qe=yield(0,Jt.R6)(L,o);if(Ye({type:"SET_ERRORS",errors:qe||{}}),!qe)try{St(),Ye({type:"ON_SUBMIT"});const Rt=(0,ut.omit)(L,["confirmPassword","registrationToken"]);Rt.roles&&(Rt.roles=Rt.roles.map(Ct=>Ct.id));const{data:vt}=yield(0,i.request)(u,{method:"PUT",body:Rt});s(vt),Ye({type:"ON_SUBMIT_SUCCEEDED",data:vt}),Pt({type:"success",message:{id:"notification.success.saved"}})}catch(Rt){const vt=(0,ut.get)(Rt,"response.payload",{data:{}});(0,ut.has)(vt,"data")&&typeof vt.data=="string"?Pt({type:"warning",message:vt.data}):Pt({type:"warning",message:vt.message});const Ct=(0,Jt.Iz)(vt);Ye({type:"SET_ERRORS",errors:Ct})}finally{Tt()}}),setField:(Ot,qe)=>{Ye({type:"ON_CHANGE",keys:Ot,value:qe})}}]};var ts=e(47713);const En=()=>(0,p.useContext)(ts.$l),nn=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Wn=()=>{const{latestStrapiReleaseTag:u,shouldUpdateStrapi:o}=useAppInfos(),s=useNotification();return useEffect(()=>{o&&nn&&s({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${u}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[u,o,s]),null},yn=null,Pn=()=>(0,p.useContext)(ts.Rj)},87569:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>O});var t=e(67294),p=e(47713);const O=()=>(0,t.useContext)(p._5)},88506:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>t});const t=[]},36206:(ae,M,e)=>{"use strict";e.d(M,{sg:()=>U,bU:()=>D,ZP:()=>Z});var t=e(67294),p=e(78384),i=e(45697),O=e.n(i),b=e(5493),C=e(67826),F=e(97132),ee=e(33097),ie=e(50592);const I=()=>{const{changeLocale:z,localeNames:J}=(0,ie.Z)(),{locale:le}=(0,F.useIntl)();return t.createElement(ee.SimpleMenu,{label:J[le]},Object.keys(J).map(T=>t.createElement(ee.MenuItem,{onClick:()=>z(T),key:T},J[T])))},Q=(0,p.default)(b.Box)`
  margin: 0 auto;
  width: 552px;
`,U=(0,p.default)(C.Flex)`
  flex-direction: column;
`,D=({children:z})=>t.createElement(Q,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},z);D.propTypes={children:O().node.isRequired};const R=({children:z})=>t.createElement("div",null,t.createElement(C.Flex,{as:"header",justifyContent:"flex-end"},t.createElement(b.Box,{paddingTop:6,paddingRight:8},t.createElement(I,null))),t.createElement(b.Box,{paddingTop:2,paddingBottom:11},z));R.propTypes={children:O().node.isRequired};const Z=R},77981:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>p});const p=[]},68070:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>b});var t=e(78384),p=e(91767),i=e.n(p);const b=(0,t.default)(p.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:C})=>C.colors.neutral600};
    }
  }
`},29773:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>ue});var t=e(67294),p=e(68547),i=e.n(p),O=e(48765),b=e.n(O),C=e(28649),F=e.n(C),ee=e(5493),ie=e.n(ee),oe=e(9008),I=e.n(oe),Q=e(62031),U=e.n(Q),D=e(67826),R=e.n(D),Z=e(19408),z=e.n(Z),J=e(55967),le=e.n(J),T=e(81325),k=e.n(T),se=e(49425),Fe=e.n(se),ve=e(45697),Ze=e.n(ve),l=e(97132),mt=e.n(l),ke=e(78384),it=e(80831),Ee=e(36206),ye=e(79690),me=e(68070);const Pe=(0,ke.default)(J.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,te=({onSubmit:B,schema:j,children:x})=>{const[je,ce]=(0,t.useState)(!1),{formatMessage:pe}=(0,l.useIntl)();return t.createElement(Q.Main,null,t.createElement(Ee.bU,null,t.createElement(it.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:B,validationSchema:j,validateOnChange:!1},({values:be,errors:ne,handleChange:fe})=>t.createElement(p.Form,{noValidate:!0},t.createElement(Ee.sg,null,t.createElement(ye.Z,null),t.createElement(ee.Box,{paddingTop:6,paddingBottom:1},t.createElement(se.Typography,{variant:"alpha",as:"h1"},pe({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(ee.Box,{paddingBottom:7},t.createElement(se.Typography,{variant:"epsilon",textColor:"neutral600"},pe({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),ne.errorMessage&&t.createElement(se.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ne.errorMessage)),t.createElement(oe.Stack,{spacing:6},t.createElement(J.TextInput,{error:ne.email?pe({id:ne.email,defaultMessage:"This value is required."}):"",value:be.email,onChange:fe,label:pe({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:pe({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(Pe,{error:ne.password?pe({id:ne.password,defaultMessage:"This value is required."}):"",onChange:fe,value:be.password,label:pe({id:"global.password",defaultMessage:"Password"}),name:"password",type:je?"text":"password",endAction:t.createElement(me.Z,{onClick:Ne=>{Ne.stopPropagation(),ce($e=>!$e)},label:pe(je?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},je?t.createElement(F(),null):t.createElement(b(),null)),required:!0}),t.createElement(T.Checkbox,{onValueChange:Ne=>{fe({target:{value:Ne,name:"rememberMe"}})},value:be.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},pe({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(Z.Button,{fullWidth:!0,type:"submit"},pe({id:"Auth.form.button.login",defaultMessage:"Login"}))))),x),t.createElement(D.Flex,{justifyContent:"center"},t.createElement(ee.Box,{paddingTop:4},t.createElement(p.Link,{to:"/auth/forgot-password"},pe({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};te.defaultProps={children:null,onSubmit:()=>{}},te.propTypes={children:Ze().node,onSubmit:Ze().func,schema:Ze().shape({type:Ze().string.isRequired}).isRequired};const ue=te},73347:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>U});var t=e(67294),p=e(45697),i=e.n(p),O=e(29773),b=e(36206),C=Object.defineProperty,F=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,oe=(D,R,Z)=>R in D?C(D,R,{enumerable:!0,configurable:!0,writable:!0,value:Z}):D[R]=Z,I=(D,R)=>{for(var Z in R||(R={}))ee.call(R,Z)&&oe(D,Z,R[Z]);if(F)for(var Z of F(R))ie.call(R,Z)&&oe(D,Z,R[Z]);return D};const Q=D=>t.createElement(b.ZP,null,t.createElement(O.Z,I({},D)));Q.defaultProps={onSubmit:D=>D.preventDefault()},Q.propTypes={onSubmit:i().func};const U=Q},23330:(ae,M,e)=>{"use strict";e.r(M),e.d(M,{default:()=>z});var t=e(67294),p=e(68547),i=e.n(p),O=e(62031),b=e.n(O),C=e(78862),F=e.n(C),ee=e(62791),ie=e.n(ee),oe=e(63215),I=e.n(oe),Q=e(77602),U=e.n(Q),D=e(97132),R=e.n(D);const z=()=>{const{formatMessage:J}=(0,D.useIntl)();return(0,p.useFocusWhenNavigate)(),t.createElement(O.Main,{labelledBy:"title"},t.createElement(C.HeaderLayout,{id:"title",title:J({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(C.ContentLayout,null,t.createElement(ee.EmptyStateLayout,{action:t.createElement(p.LinkButton,{variant:"secondary",endIcon:t.createElement(U(),null),to:"/"},J({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:J({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(I(),{width:"10rem"}),shadow:"tableShadow"})))}},69623:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>t});const t={}},27858:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>p});const p=({data:i})=>{try{return Object.keys(i).reduce((O,b)=>{const C=i[b][0];return O[b]={id:C,defaultMessage:C},O},{})}catch(O){return{}}}},8610:(ae,M,e)=>{"use strict";e.d(M,{R6:()=>O,ot:()=>U,Iz:()=>D.Z,Pp:()=>ue,IF:()=>te,WW:()=>ke});var t=e(68547),p=(B,j,x)=>new Promise((je,ce)=>{var pe=fe=>{try{ne(x.next(fe))}catch(Ne){ce(Ne)}},be=fe=>{try{ne(x.throw(fe))}catch(Ne){ce(Ne)}},ne=fe=>fe.done?je(fe.value):Promise.resolve(fe.value).then(pe,be);ne((x=x.apply(B,j)).next())});const O=(B,j)=>p(void 0,null,function*(){let x=null;try{yield j.validate(B,{abortEarly:!1})}catch(je){x=(0,t.getYupInnerErrors)(je)}return x});var b=e(67294),C=e(45697),F=e.n(C),ee=e(49656),ie=e(25108),oe=(B,j,x)=>new Promise((je,ce)=>{var pe=fe=>{try{ne(x.next(fe))}catch(Ne){ce(Ne)}},be=fe=>{try{ne(x.throw(fe))}catch(Ne){ce(Ne)}},ne=fe=>fe.done?je(fe.value):Promise.resolve(fe.value).then(pe,be);ne((x=x.apply(B,j)).next())});const I=({loadComponent:B})=>{const[j,x]=(0,b.useState)(null);return(0,b.useEffect)(()=>{(()=>oe(void 0,null,function*(){try{const ce=yield B();x(()=>ce.default)}catch(ce){ie.log(ce)}}))()},[B]),j?b.createElement(j,null):b.createElement(t.LoadingIndicatorPage,null)},Q=(B,j,x)=>b.createElement(ee.Route,{render:()=>b.createElement(I,{loadComponent:B}),key:j,path:j,exact:x||!1});I.propTypes={loadComponent:F().func.isRequired};const U=Q;var D=e(27858),R=e(96486),Z=Object.defineProperty,z=Object.defineProperties,J=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,se=(B,j,x)=>j in B?Z(B,j,{enumerable:!0,configurable:!0,writable:!0,value:x}):B[j]=x,Fe=(B,j)=>{for(var x in j||(j={}))T.call(j,x)&&se(B,x,j[x]);if(le)for(var x of le(j))k.call(j,x)&&se(B,x,j[x]);return B},ve=(B,j)=>z(B,J(j));const Ze=B=>{const j=get(B,["options","timestamps"]);let x=Array.isArray(j)?j:[];const ce=[...["id","_id"],...x,"publishedAt"],pe=get(B,["attributes"],{});return Object.keys(pe).reduce((be,ne)=>(ce.includes(ne)||be.push(ve(Fe({},pe[ne]),{attributeName:ne})),be),[])},l=null,ke=B=>B.filter((j,x,je)=>je.findIndex(ce=>ce.key===j.key)===x),it=B=>sortBy(B,j=>j.name),Ee=null,ye=B=>Array.from(new Set(Object.entries(B).reduce((j,x)=>{const je=ce=>ce.reduce((pe,be)=>{let ne=pe;return be.actions&&(ne=[...ne,...be.actions]),typeof be=="object"&&!be.actions&&(ne=[...ne,...Object.keys(be)]),ne},[]);return[...j,...je([...Object.values(x[1].attributes||{}),get(x[1],"contentTypeActions",{})])]},[]))),me=null,te=B=>`/admin/${B}`,ue=(B,j="")=>[B,j].filter(x=>x).join(" ")},69483:(ae,M,e)=>{"use strict";e.d(M,{p:()=>I});var t=e(67294),p=e(68547),i=e(8610),O=e(73749);const b={data:[],isLoading:!0},F=(Q,U)=>(0,O.default)(Q,D=>{switch(U.type){case"GET_DATA_SUCCEEDED":{D.data=U.data,D.isLoading=!1;break}case"GET_DATA_ERROR":{D.isLoading=!1;break}default:return D}});var ee=e(25108),ie=(Q,U,D)=>new Promise((R,Z)=>{var z=T=>{try{le(D.next(T))}catch(k){Z(k)}},J=T=>{try{le(D.throw(T))}catch(k){Z(k)}},le=T=>T.done?R(T.value):Promise.resolve(T.value).then(z,J);le((D=D.apply(Q,U)).next())});const I=({ssoEnabled:Q})=>{const[U,D]=(0,t.useReducer)(F,b),R=(0,p.useNotification)();(0,t.useEffect)(()=>{Z()},[]);const Z=()=>ie(void 0,null,function*(){try{if(!Q){D({type:"GET_DATA_SUCCEEDED",data:[]});return}const z=(0,i.IF)("providers"),J=yield(0,p.request)(z,{method:"GET"});D({type:"GET_DATA_SUCCEEDED",data:J})}catch(z){ee.error(z),D({type:"GET_DATA_ERROR"}),R({type:"warning",message:{id:"notification.error"}})}});return U}},8353:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>O});var t=e(87751);const O=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}]:[]]},35499:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>Q});var t=e(67294),p=e(49656),i=e(97132),O=e(36808),b=e.n(O),C=e(68547),F=e(8610),ee=(U,D,R)=>new Promise((Z,z)=>{var J=k=>{try{T(R.next(k))}catch(se){z(se)}},le=k=>{try{T(R.throw(k))}catch(se){z(se)}},T=k=>k.done?Z(k.value):Promise.resolve(k.value).then(J,le);T((R=R.apply(U,D)).next())});const oe=()=>{const{params:{authResponse:U}}=(0,p.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:D}=(0,i.useIntl)(),{push:R}=(0,p.useHistory)(),Z=(0,t.useRef)(D);let z=(0,t.useCallback)(()=>{R(`/auth/oops?info=${encodeURIComponent(Z.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[R]);const J=(0,t.useCallback)(()=>ee(void 0,null,function*(){try{const le=b().get("jwtToken");if(C.auth.clearAppStorage(),le){C.auth.setToken(le,!0);const T=(0,F.IF)("users/me"),{data:k}=yield(0,C.request)(T,{method:"GET"});C.auth.setUserInfo(k,!0),b().remove("jwtToken"),R("/auth/login")}}catch(le){z()}}),[R,z]);return(0,t.useEffect)(()=>{U==="error"&&z(),U==="success"&&J()},[U,J,z]),t.createElement(C.LoadingIndicatorPage,null)},Q=[{Component:()=>({default:oe}),to:"/auth/login/:authResponse",exact:!0}]},9442:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>it});var t=e(67294),p=e(45697),i=e.n(p),O=e(78384),b=e(5493),C=e.n(b),F=e(67826),ee=e.n(F),ie=e(14276),oe=e.n(ie),I=e(9008),Q=e.n(I),U=e(49425),D=e.n(U),R=e(97132),Z=e.n(R),z=e(29773),J=e(69483),le=e(36206),T=e(51780),k=Object.defineProperty,se=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,Ze=(Ee,ye,me)=>ye in Ee?k(Ee,ye,{enumerable:!0,configurable:!0,writable:!0,value:me}):Ee[ye]=me,l=(Ee,ye)=>{for(var me in ye||(ye={}))Fe.call(ye,me)&&Ze(Ee,me,ye[me]);if(se)for(var me of se(ye))ve.call(ye,me)&&Ze(Ee,me,ye[me]);return Ee};const mt=(0,O.default)(ie.Divider)`
  flex: 1;
`,ke=Ee=>{const ye=strapi.features.isEnabled(strapi.features.SSO),{isLoading:me,data:Pe}=(0,J.p)({ssoEnabled:ye}),{formatMessage:te}=(0,R.useIntl)();return!ye||!me&&Pe.length===0?t.createElement(le.ZP,null,t.createElement(z.Z,l({},Ee))):t.createElement(le.ZP,null,t.createElement(z.Z,l({},Ee),t.createElement(b.Box,{paddingTop:7},t.createElement(I.Stack,{spacing:7},t.createElement(F.Flex,null,t.createElement(mt,null),t.createElement(b.Box,{paddingLeft:3,paddingRight:3},t.createElement(U.Typography,{variant:"sigma",textColor:"neutral600"},te({id:"Auth.login.sso.divider"}))),t.createElement(mt,null)),t.createElement(T.Z,{providers:Pe,displayAllProviders:!1})))))};ke.defaultProps={onSubmit:Ee=>Ee.preventDefault(),requestError:null},ke.propTypes={formErrors:i().object.isRequired,modifiedData:i().object.isRequired,onChange:i().func.isRequired,onSubmit:i().func,requestError:i().object};const it=ke},51780:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>T});var t=e(67294),p=e(45697),i=e.n(p),O=e(34626),b=e.n(O),C=e(67826),F=e.n(C),ee=e(49425),ie=e.n(ee),oe=e(93355),I=e.n(oe),Q=e(78384),U=e(97132),D=e.n(U),R=e(49656);const Z=Q.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:k})=>k.colors.neutral150};
  border-radius: ${({theme:k})=>k.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:k})=>k.colors.neutral600};
`,z=(0,Q.default)(C.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:k})=>k.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:k})=>k.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:k})=>k.spaces[2]};
  }
`,J=({provider:k})=>t.createElement(oe.Tooltip,{label:k.displayName},t.createElement(Z,{href:`${strapi.backendURL}/admin/connect/${k.uid}`},k.icon?t.createElement("img",{src:k.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(ee.Typography,null,k.displayName)));J.propTypes={provider:i().shape({icon:i().string,displayName:i().string.isRequired,uid:i().string.isRequired}).isRequired};const le=({providers:k,displayAllProviders:se})=>{const{formatMessage:Fe}=(0,U.useIntl)();return se?t.createElement(O.Grid,{gap:4},k.map(ve=>t.createElement(O.GridItem,{key:ve.uid,col:4},t.createElement(J,{provider:ve})))):k.length>2&&!se?t.createElement(O.Grid,{gap:4},k.slice(0,2).map(ve=>t.createElement(O.GridItem,{key:ve.uid,col:4},t.createElement(J,{provider:ve}))),t.createElement(O.GridItem,{col:4},t.createElement(oe.Tooltip,{label:Fe({id:"global.see-more"})},t.createElement(Z,{as:R.Link,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(z,{justifyContent:"center"},k.map(ve=>t.createElement(J,{key:ve.uid,provider:ve})))};le.defaultProps={displayAllProviders:!0},le.propTypes={providers:i().arrayOf(i().object).isRequired,displayAllProviders:i().bool};const T=le},98837:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>me});var t=e(67294),p=e(49656),i=e(78384),O=e(68547),b=e(14276),C=e(9008),F=e(67826),ee=e(5493),ie=e(19408),oe=e(40064),I=e(49425),Q=e(62031),U=e(97132),D=e(69483),R=e(36206),Z=e(51780),z=e(79690);const J=(0,i.default)(b.Divider)`
  flex: 1;
`,T=()=>{const Pe=strapi.features.isEnabled(strapi.features.SSO),{push:te}=(0,p.useHistory)(),{formatMessage:ue}=(0,U.useIntl)(),{isLoading:B,data:j}=(0,D.p)({ssoEnabled:Pe}),x=()=>{te("/auth/login")};return!Pe||!B&&j.length===0?t.createElement(p.Redirect,{to:"/auth/login"}):t.createElement(R.ZP,null,t.createElement(Q.Main,null,t.createElement(R.bU,null,t.createElement(R.sg,null,t.createElement(z.Z,null),t.createElement(ee.Box,{paddingTop:6,paddingBottom:1},t.createElement(I.Typography,{as:"h1",variant:"alpha"},ue({id:"Auth.form.welcome.title"}))),t.createElement(ee.Box,{paddingBottom:7},t.createElement(I.Typography,{variant:"epsilon",textColor:"neutral600"},ue({id:"Auth.login.sso.subtitle"})))),t.createElement(C.Stack,{spacing:7},B?t.createElement(F.Flex,{justifyContent:"center"},t.createElement(oe.Loader,null,ue({id:"Auth.login.sso.loading"}))):t.createElement(Z.Z,{providers:j}),t.createElement(F.Flex,null,t.createElement(J,null),t.createElement(ee.Box,{paddingLeft:3,paddingRight:3},t.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},ue({id:"or"}))),t.createElement(J,null)),t.createElement(ie.Button,{fullWidth:!0,size:"L",onClick:x},ue({id:"Auth.form.button.login.strapi"})))),t.createElement(F.Flex,{justifyContent:"center"},t.createElement(ee.Box,{paddingTop:4},t.createElement(O.Link,{to:"/auth/forgot-password"},t.createElement(I.Typography,{variant:"pi"},ue({id:"Auth.link.forgot-password"})))))))};var k=e(42243),se=Object.defineProperty,Fe=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,ke=(Pe,te,ue)=>te in Pe?se(Pe,te,{enumerable:!0,configurable:!0,writable:!0,value:ue}):Pe[te]=ue,it=(Pe,te)=>{for(var ue in te||(te={}))l.call(te,ue)&&ke(Pe,ue,te[ue]);if(Ze)for(var ue of Ze(te))mt.call(te,ue)&&ke(Pe,ue,te[ue]);return Pe},Ee=(Pe,te)=>Fe(Pe,ve(te));const me=Ee(it({},k.Z),{providers:{Component:T,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}})},2199:(ae,M,e)=>{"use strict";e.d(M,{Z:()=>p});const p={settings:{sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}}}]);
